{% extends 'admin/skeleton/view.twig' %}

{% block content %}
{{ parent() }}
{% set item = thing %}
<br>
{% block create %}
	{% if auth_has_access('enum_item.create') and (model.read_only == false or auth_has_access('enum.all')) %}
		<p>
			<a href="{{ url }}/item/{{ model.id }}/create/" class="hidden-print btn btn-success"><span class="glyphicon glyphicon-plus"></span> {% filter capitalize %}{% trans %}Create a new {{ item }}{% endtrans %}{% endfilter %}</a>
		</p>
	{% endif %}
{% endblock %}

<div class="panel panel-default">
	<table class="datatables table table-striped table-hover">
		<thead>
			<tr>
				<th style="width: 75px">#</th>
				<th>{% trans 'Name' %}</th>
				<th>{% trans 'Description' %}</th>
				<th>{% trans 'Slug' %}</th>
				<th>{% trans 'Active?' %}</th>
				<th class="hidden-print" style="width: 140px;"></th>
			</tr>
		</thead>
		<tbody>
			{% for item in model.items %}
				<tr>
					<td>{{ item.id }}</td>
					<td>{{ item.name }}</td>
					<td>{{ item.description }}</td>
					<td>{{ item.slug }}</td>
					<td>{% if item.active %}{% trans 'Yes' %}{% else %}{% trans 'No' %}{% endif %}</td>
					<td>
						<div class="hidden-print btn-group btn-group-sm" style="width:100px">
							{% if auth_has_access('enum_item.edit') %}
								<a href="{{ url }}/item/{{ model.slug }}/edit/{{ item.id }}" class="btn btn-default"><span class="glyphicon glyphicon-edit"></span></a>
							{% endif %}
							{% if auth_has_access('enum_item.delete') %}
								<a href="{{ url }}/item/{{ model.slug }}/delete/{{ item.id }}" class="btn btn-default"><span class="glyphicon glyphicon-remove" style="color:#f55;"></span></a>
							{% endif %}
						</div>
					</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
</div>

{{ block('create') }}

{% endblock %}

{% block documentready %}
	{{ parent() }}
	dtInstance = $('.datatables').dataTable();
	dtInstance.fnSettings().oFeatures.bSort = false;
{% endblock %}